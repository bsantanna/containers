---
version: '3'
services:
  master:
    build: ../..
    container_name: master
    ports:
      - "8080:8080"
      - "8081:8081"
    volumes:
      - ./workspace:/opt/jenkins/data/workspace
    privileged: true

  agent-linux-x86_64-?:
    image: jenkins/jnlp-slave
    container_name: agent-linux-x86_64-?
    environment:
      - JENKINS_URL=http://master:8080/jenkins
      - JENKINS_SECRET=?
      - JENKINS_AGENT_NAME=agent-linux-x86_64-?
    extra_hosts:
      - "master:?"

networks: {default: {}}  
